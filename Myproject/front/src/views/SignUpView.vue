<template>
  <div class="topClass">
    <v-card
    class="mx-auto pa-12 pb-8"
    elevation="8"
    max-width="448"
    rounded="lg"
    title="User Registration ğŸ¤—"
  >
    <v-container>
      <!-- <v-text-field
        v-model.trim="nickname"
        color="primary"
        label="Nickname"
        variant="underlined"
      ></v-text-field> -->

      <v-text-field
        v-model.trim="name"
        color="primary"
        label="Name"
        variant="underlined"
      ></v-text-field>

      <v-text-field
        v-model.trim="email"
        color="primary"
        label="Email"
        variant="underlined"
      ></v-text-field>

      <v-text-field
        v-model.trim="password"
        color="primary"
        label="Password"
        placeholder="Enter your password"
        variant="underlined"
      ></v-text-field>

      <v-checkbox
        v-model="terms"
        color="blue"
        label="I agree to site terms and conditions"
        @click="terms = !terms"
      ></v-checkbox>
    </v-container>

    <v-divider></v-divider>

    <v-card-actions>
      <v-spacer></v-spacer>

      <!--router íšŒì› ê°€ì… ì™„ë£Œ-->
      <v-btn color="blue"
        @click.prevent="store.signUpComplete(userData)">
        Complete Registration

        <v-icon icon="mdi-chevron-right" end></v-icon>
      </v-btn>
    </v-card-actions>
    </v-card>
  </div>
</template>

<script setup>
import { useBankStore } from '@/stores/bank'
import { ref } from 'vue'
import { useRouter } from 'vue-router'

  const store = useBankStore()
  const router = useRouter()
  //ì²´í¬ ë°•ìŠ¤ í™•ì¸ ì™„ë£Œ
  const terms = ref(null)
  const nickname = ref(null)
  const name = ref(null)
  const email = ref(null)
  const password = ref(null)
  //ìƒê¸° ê°’ userdataë¡œ ìƒì„±
  const userData = { //ì´ì¤‘ìœ¼ë¡œ ë°˜ì‘í˜• ë°ì´í„°ë¥¼ ë„£ì„ í•„ìš”ê°€ ì—†ìŒ
    // 'nickname' : nickname,
    'name' : name,
    'email' : email,
    'password' : password
  }

  // //ë”ë¯¸ ë°ì´í„°ì´ê¸° ë•Œë¬¸ì— async -> await ì‚¬ìš©í•˜ì§€ ì•ŠìŒ : ì¶”í›„ ì¶”ê°€ ì˜ˆì •
  // const signUpDone = function() { //ë¹„ë™ê¸° ì²˜ë¦¬ == ìš”ì²­
  //   //íšŒì›ê°€ì… .. storeì—ì„œ ë°›ì•„ì™€ì„œ tureë¡œ ë°›ì•„ì˜¤ë©´ login í˜ì´ì§€ë¡œ ì´ë™í•˜ê²Œ   
  //   const complete = store.signUpComplete(userData) 
  //   if (terms.value === true && complete === true) { //trueë§Œì´ ì•„ë‹ˆë¼ íšŒì›ê°€ì… ë°ì´í„°ë„ ë°›ì•„ì™€ì•¼í•¨
  //     alert('íšŒì› ê°€ì… ì™„ë£Œ')
  //     //storeì—ì„œ í•´ë‹¹ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ì²˜ë¦¬ => ì§„í–‰í•´ì•¼ í•¨
  //     router.push({name : 'login'}) //íšŒì› ê°€ì… í–ˆìœ¼ë‹ˆ ë¡œê·¸ì¸ ì‹œë„
  //     //ë©”ì¸ í˜ì´ì§€ ì „ë‹¬
  //   } else { //ê°’ì´ í•˜ë‚˜ë¼ë„ ë¹„ì–´ìˆìœ¼ë©´
  //     //í•´ë‹¹ ê°’ì— ì—ëŸ¬ëŠ” ì—†ìŒ
  //     console.log(userData.email.value, 'ì´ë©”ì¼') //í•´ë‹¹ ê°’ì´ ë§ëŠ”ì§€? => í˜„ì¬ userDataê°€ ì–´ë–¤ ê°’ìœ¼ë¡œ ì˜¤ëŠ”ê±´ì§€?
  //     console.log(terms.value)
  //     console.log(complete, 'í˜„ì¬ completeí™•ì¸')
  //     alert('ë°ì´í„°ë¥¼ ì±„ìš°ì§€ ì•Šê±°ë‚˜, ì•½ê´€ì— ë™ì˜í•˜ì§€ ì•Šìœ¼ë©´ íšŒì›ê°€ì… ì§„í–‰ì´ ì–´ë µìŠµë‹ˆë‹¤.')
  //   }
  // }



</script>

<style scoped>
  .topClass {
    margin-top:40px;
  }
</style>